(this.webpackJsonpcalendar=this.webpackJsonpcalendar||[]).push([[0],[,,,,function(e,t,a){e.exports={header:"header_header__2hf14",logo:"header_logo__1FR8c",title:"header_title__2JOFF",version:"header_version__341jJ"}},,,,,,,function(e,t,a){e.exports=a.p+"static/media/logo.7d265621.svg"},,,,function(e,t,a){e.exports=a(31)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(8),s=a.n(r),c=(a(20),a(21),a(2)),o=a(9),l=a(10),u=a(14),d=a(13),m=a(12),p=(a(22),a(11)),v=a.n(p),f=a(4),h=a.n(f),b=function(){return i.a.createElement("header",{className:h.a.header},i.a.createElement("img",{className:h.a.logo,src:v.a,alt:""}),i.a.createElement("h1",{className:h.a.title},"Kalendar"),i.a.createElement("span",{className:h.a.version},"v0.1"))},g=(a(23),function(e){return i.a.createElement("aside",{className:"aside"},e.children)}),D=(a(24),function(e){return i.a.createElement("main",{className:"app-main"},e.children)}),E=a(5),O=a.n(E),j={reserve:"reserve",cancel:"cancel"},k=(a(26),function(e){var t=e.isVisible?"visible":"",a=O()(e.reservedDate).format("HH:mm"),n=O()(e.reservedDate).add(30,"minutes").format("HH:mm");return i.a.createElement("div",{id:"modal-background",className:t},i.a.createElement("div",{id:"pop-up",className:t},i.a.createElement("div",{className:"popup-content",onClick:function(t){var a=t.target;j.reserve===a.id?e.popupClickHandler(j.reserve):j.cancel===a.id&&e.popupClickHandler(j.cancel)}},i.a.createElement("header",null,i.a.createElement("span",{className:"label"},"Termin"),i.a.createElement("span",{id:"cancel"},"\xd7")),i.a.createElement("h3",null,"Odabrani datum: ",O()(e.selectedDate).format("DD.MM.YYYY")),i.a.createElement("input",{type:"text",id:"inputField",value:a+" - "+n,disabled:!0}),i.a.createElement("button",{id:"reserve",className:"button-popup"},"Rezerviraj termin"))))}),w=a(3),H=(a(27),function(e){var t=Object(n.useState)(""),a=Object(w.a)(t,2),r=a[0],s=a[1];Object(n.useEffect)((function(){var t="disabled-timeline-row";e.isWorkingDay&&(e.isBreak&&e.isMorningShift?t="timeline-row-break":e.isOccupied&&e.isMorningShift?t="timeline-row-occupied":e.isMorningShift&&(t="timeline-row")),s(t)}),[e.date]);var c=function(e){return e<=9?"0"+e:e},o=function(){s("timeline-row")};return i.a.createElement("div",{className:r,onClick:function(t){e.isWorkingDay?e.isBreak?alert("Nije mogu\u0107e odabrati termin u vrijeme pauze"):e.isOccupied?alert("Odabrani termin je ve\u0107 zauzet"):e.isMorningShift?(s("timeline-row-occupied"),e.reservationHandler(e.date,o)):alert("Odabrani termin nije u radnom vremenu"):alert("Nemogu\u0107e rezervirati termin na neradni dan")},time:c(e.date.getHours())+":"+c(e.date.getMinutes())})}),S=(a(28),8),N=19,y=function(e){var t=Object(n.useState)(e.selectedDate),a=Object(w.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)([]),o=Object(w.a)(c,2),l=o[0],u=o[1],d=!0,m=!1;function p(){var t=e.selectedDate.getDay(),a=e.selectedDate.getDate();6===t?v(a)&&(m=!0):0!==t&&(v(a)?m=!0:(m=!0,d=!1))}function v(e){return e%2!==1}function f(e){return Math.floor(Math.random()*Math.floor(e))}return Object(n.useEffect)((function(){for(var t=[],a=S;a<=N;a++)p(),t.push({date:new Date(r.setHours(a,0,0)),isWorkingDay:m,isMorningShift:!!(d&&a<14||!d&&a>12),isBreak:11===a||16===a,isOccupied:!(11===a||16===a||!f(2))}),a<N&&t.push({date:new Date(r.setHours(a,30,0)),isWorkingDay:m,isMorningShift:!!(d&&a<14||!d&&a>12),isBreak:!1,isOccupied:!(11===a||16===a||!f(2))});s(e.selectedDate),u(t)}),[e.selectedDate]),i.a.createElement("ul",{className:"time-line-list"},l.map((function(t,a){return i.a.createElement(H,{key:a,isWorkingDay:t.isWorkingDay,isMorningShift:t.isMorningShift,isBreak:t.isBreak,isOccupied:t.isOccupied,date:t.date,reservationHandler:e.reservationHandler})})))},M=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={date:new Date,isPopupVisible:!1,reservedDate:null},e.onChange=function(t){e.state.date.toLocaleDateString()!==t.toLocaleDateString()&&e.setState(Object(c.a)(Object(c.a)({},e.state),{},{date:t,reservedDate:null}))},e.popupClickHandler=function(t){j.reserve===t?e.setState(Object(c.a)(Object(c.a)({},e.state),{},{isPopupVisible:!1})):j.cancel===t&&(e.cancelHandler(),e.setState(Object(c.a)(Object(c.a)({},e.state),{},{isPopupVisible:!1,reservedDate:null})))},e.onReservation=function(t,a){if(null!==e.state.reservedDate)return a(),void alert("Nije mogu\u0107e rezervirati vi\u0161e od jednog termina dnevno");e.setState(Object(c.a)(Object(c.a)({},e.state),{},{isPopupVisible:!0,reservedDate:t})),e.cancelHandler=a},e}return Object(l.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.date!==t.date||this.state.isPopupVisible!==t.isPopupVisible}},{key:"render",value:function(){return i.a.createElement(n.Fragment,null,i.a.createElement(b,null),i.a.createElement(D,null,i.a.createElement(g,null,i.a.createElement(m.a,{className:"calendar",onChange:this.onChange,value:this.state.date})),i.a.createElement(y,{selectedDate:this.state.date,reservationHandler:this.onReservation})),i.a.createElement(k,{isVisible:this.state.isPopupVisible,selectedDate:this.state.date,reservedDate:this.state.reservedDate,popupClickHandler:this.popupClickHandler}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[15,1,2]]]);
//# sourceMappingURL=main.e938ef4b.chunk.js.map